<div
  class="chat-thread-list"
  {{did-insert this.loadThreads}}
  {{did-update this.loadThreads @channel}}
  {{will-destroy this.teardown}}
>
  {{#if @includeHeader}}
    <div class="chat-thread__header">
      <span class="chat-thread__label">{{i18n "chat.threads.list"}}</span>
      <LinkTo
        class="chat-thread__close btn-flat btn btn-icon no-text"
        @route="chat.channel"
        @models={{@channel.routeModels}}
        title={{i18n "chat.thread.close"}}
      >
        {{d-icon "times"}}
      </LinkTo>
    </div>
  {{/if}}

  <div class="chat-thread-list__items">
    {{#if this.loading}}
      {{loading-spinner size="medium"}}
    {{else}}
      {{#each this.threads as |thread|}}
        <Chat::Thread::ListItem @thread={{thread}} />
      {{else}}
        <div class="chat-thread-list__no-threads">
          {{i18n "chat.threads.none"}}
        </div>
      {{/each}}
    {{/if}}
  </div>
</div>