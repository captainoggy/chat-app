<div
  class="control-group preferences-navigation-menu-categories"
  data-setting-name="user-navigation-menu-categories"
>
  <legend class="control-label">{{i18n
      "user.experimental_sidebar.categories_section"
    }}</legend>

  <div class="controls">
    <CategorySelector
      @categories={{this.selectedSidebarCategories}}
      @onChange={{action (mut this.selectedSidebarCategories)}}
      @options={{hash
        allowUncategorized=(not this.siteSettings.suppress_uncategorized_badge)
        displayCategoryDescription=true
      }}
    />
  </div>

  <div class="instructions">{{i18n
      "user.experimental_sidebar.categories_section_instruction"
    }}</div>
</div>

{{#if this.model.display_sidebar_tags}}
  <div
    class="control-group preferences-navigation-menu-tags"
    data-setting-name="user-navigation-menu-tags"
  >
    <legend class="control-label">{{i18n
        "user.experimental_sidebar.tags_section"
      }}</legend>

    <div class="controls">
      <TagChooser
        @tags={{this.selectedSidebarTagNames}}
        @everyTag={{true}}
        @unlimitedTagCount={{true}}
        @onChange={{action (mut this.selectedSidebarTagNames)}}
        @options={{hash allowAny=false}}
      />
    </div>

    <div class="instructions">{{i18n
        "user.experimental_sidebar.tags_section_instruction"
      }}</div>
  </div>
{{/if}}

<div
  class="control-group preferences-navigation-menu-navigation"
  data-setting-name="user-navigation-menu-navigation"
>
  <legend class="control-label">{{i18n
      "user.experimental_sidebar.navigation_section"
    }}</legend>

  <div class="controls">
    <label>{{i18n
        "user.experimental_sidebar.navigation_section_instruction"
      }}</label>

    <PreferenceCheckbox
      @labelKey="user.experimental_sidebar.link_to_filtered_list_checkbox_description"
      @checked={{this.newSidebarLinkToFilteredList}}
      @class="pref-link-to-filtered-list"
    />
    <PreferenceCheckbox
      @labelKey="user.experimental_sidebar.show_count_new_items_checkbox_description"
      @checked={{this.newSidebarShowCountOfNewItems}}
      @class="pref-show-count-new-items"
    />
  </div>
</div>

<SaveControls
  @model={{this.model}}
  @action={{action "save"}}
  @saved={{this.saved}}
/>